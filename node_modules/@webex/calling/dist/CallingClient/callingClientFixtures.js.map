{"version":3,"names":["_testUtil","require","_constants","_registerFixtures","webex","getTestUtilsWebex","mockIPReturnBody","ipv4","ipv6","ipPayload","exports","statusCode","body","regionBody","attribution","clientAddress","clientRegion","countryCode","disclaimer","regionCode","timezone","regionPayload","discoveryBody","getMobiusDiscoveryResponse","primaryUrl","concat","primary","uris","discoveryPayload","registrationPayload","mockPostResponse","uri","internal","services","_serviceUrls","mobius","URL_ENDPOINT","myIP","mockUSServiceHosts","host","ttl","priority","id","mockEUServiceHosts","mockEUIntServiceHosts","mockIntServiceHosts","mockCatalogEU","mockCatalogEUInt","mockCatalogUS","mockCatalogUSInt"],"sources":["callingClientFixtures.ts"],"sourcesContent":["import {getMobiusDiscoveryResponse, getTestUtilsWebex} from '../common/testUtil';\nimport {MobiusServers, WebexRequestPayload} from '../common/types';\nimport {URL_ENDPOINT} from './constants';\nimport {mockPostResponse} from './registration/registerFixtures';\n\nconst webex = getTestUtilsWebex();\n\nconst mockIPReturnBody = {\n  ipv4: '1.1.1.1',\n  ipv6: '2.2.2.2',\n};\n\nconst ipPayload = <WebexRequestPayload>(<unknown>{\n  statusCode: 200,\n  body: mockIPReturnBody,\n});\n\nconst regionBody = {\n  attribution:\n    'This product includes GeoLite2 data created by MaxMind, available from http://www.maxmind.com',\n  clientAddress: '72.163.220.6',\n  clientRegion: 'AP-SOUTHEAST',\n  countryCode: 'IN',\n  disclaimer:\n    'This service is intended for use by Webex Team only. Unauthorized use is prohibited.',\n  regionCode: 'AP-SOUTHEAST',\n  timezone: 'Asia/Kolkata',\n};\n\nconst regionPayload = <WebexRequestPayload>(<unknown>{\n  statusCode: 200,\n  body: regionBody,\n});\n\nconst discoveryBody: MobiusServers = getMobiusDiscoveryResponse();\nconst primaryUrl = `${discoveryBody.primary.uris[0]}/calling/web/`;\nconst discoveryPayload = <WebexRequestPayload>(<unknown>{\n  statusCode: 200,\n  body: discoveryBody,\n});\n\nconst registrationPayload = <WebexRequestPayload>(<unknown>{\n  statusCode: 200,\n  body: mockPostResponse,\n});\n\nconst uri = `${webex.internal.services._serviceUrls.mobius}${URL_ENDPOINT}`;\nconst myIP = mockIPReturnBody.ipv4;\n\nconst mockUSServiceHosts = [\n  {\n    host: 'mobius-us-east-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 5,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ca-central-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 10,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-eu-central-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 15,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ap-southeast-2.prod.infra.webex.com',\n    ttl: -1,\n    priority: 20,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n];\n\nconst mockEUServiceHosts = [\n  {\n    host: 'mobius-eu-central-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 5,\n    id: 'urn:TEAM:eu-central-1_k:mobius',\n  },\n  {\n    host: 'mobius-us-east-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 15,\n    id: 'urn:TEAM:eu-central-1_k:mobius',\n  },\n  {\n    host: 'mobius-ca-central-1.prod.infra.webex.com',\n    ttl: -1,\n    priority: 10,\n    id: 'urn:TEAM:eu-central-1_k:mobius',\n  },\n  {\n    host: 'mobius-ap-southeast-2.prod.infra.webex.com',\n    ttl: -1,\n    priority: 20,\n    id: 'urn:TEAM:eu-central-1_k:mobius',\n  },\n];\n\nconst mockEUIntServiceHosts = [\n  {\n    host: 'mobius-eu-central-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 15,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-us-east-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 5,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ca-central-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 10,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ap-southeast-2.int.infra.webex.com',\n    ttl: -1,\n    priority: 20,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n];\n\nconst mockIntServiceHosts = [\n  {\n    host: 'mobius-us-east-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 5,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ca-central-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 10,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-eu-central-1.int.infra.webex.com',\n    ttl: -1,\n    priority: 15,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n  {\n    host: 'mobius-ap-southeast-2.int.infra.webex.com',\n    ttl: -1,\n    priority: 20,\n    id: 'urn:TEAM:us-east-2_a:mobius',\n  },\n];\n\nconst mockCatalogEU = {\n  'mobius-eu-central-1.prod.infra.webex.com': mockEUServiceHosts,\n};\nconst mockCatalogEUInt = {\n  'mobius-eu-central-1.int.infra.webex.com': mockEUIntServiceHosts,\n};\n\nconst mockCatalogUS = {\n  'mobius-us-east-1.prod.infra.webex.com': mockUSServiceHosts,\n  'mobius-eu-central-1.prod.infra.webex.com': mockEUServiceHosts,\n};\n\nconst mockCatalogUSInt = {\n  'mobius-us-east-1.int.infra.webex.com': mockIntServiceHosts,\n  'mobius-eu-central-1.int.infra.webex.com': mockEUIntServiceHosts,\n};\n\nexport {\n  ipPayload,\n  regionBody,\n  regionPayload,\n  primaryUrl,\n  discoveryPayload,\n  registrationPayload,\n  uri,\n  myIP,\n  mockEUServiceHosts,\n  mockEUIntServiceHosts,\n  mockIntServiceHosts,\n  mockUSServiceHosts,\n  mockCatalogEU,\n  mockCatalogEUInt,\n  mockCatalogUS,\n  mockCatalogUSInt,\n};\n"],"mappings":"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"}