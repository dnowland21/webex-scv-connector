{"version":3,"names":["_asyncMutex","require","Media","_interopRequireWildcard","_types","_testUtil","_types2","_types3","_Logger","_interopRequireDefault","_CallingClient","_Utils","utils","_callManager","_constants","_callRecordFixtures","_callingClientFixtures","_line","_registerFixtures","_getRequireWildcardCache","e","_WeakMap","r","t","__esModule","_typeof","default","has","get","n","__proto__","a","_Object$defineProperty","_Object$getOwnPropertyDescriptor","u","Object","prototype","hasOwnProperty","call","i","set","ownKeys","_Object$keys2","_Object$getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","_Object$getOwnPropertyDescriptors","_Object$defineProperties","describe","handleErrorSpy","jest","spyOn","setLoggerSpy","webex","getTestUtilsWebex","internal","services","mockCatalogUS","defaultServiceIndicator","ServiceIndicator","CALLING","callManager","getCallManager","logSpy","log","warnSpy","originalProcessNextTick","process","nextTick","flushPromises","_promise","resolve","afterAll","removeAllListeners","it","_asyncToGenerator2","_regenerator","mark","_callee","urlSpy","callingClient","wrap","_callee$","_context","prev","next","_hostCatalog","mockCatalogEU","window","mockImplementation","url","URL","createClient","logger","level","LOGGER","INFO","sent","expect","toHaveBeenCalledWith","toStrictEqual","mockEUServiceHosts","mockRestore","stop","_callee2","_callee2$","_context2","_serviceUrls","mobius","toHaveBeenCalledTimes","mockUSServiceHosts","afterEach","undefined","_callee4","_callee4$","_context4","_callee3","_callee3$","_context3","toBeTruthy","not","toThrow","Error","_callee6","serviceDataObj","_callee6$","_context6","indicator","domain","_callee5","_callee5$","_context5","serviceData","_callee7","_callee7$","_context7","t0","message","toEqual","assertions","_callee8","_callee8$","_context8","_callee10","_callee10$","_context10","_callee9","_callee9$","_context9","_callee11","_callee11$","_context11","CONTACT_CENTER","_callee13","_callee13$","_context13","_callee12","_callee12$","_context12","_callee14","_callee14$","_context14","getLoggingLevel","clearAllTimers","clearAllMocks","useRealTimers","_callee15","_callee15$","_context15","request","mockResolvedValueOnce","ipPayload","regionPayload","discoveryPayload","toBeCalledTimes","primaryMobiusUris","primaryUrl","toBeCalled","nthCalledWith","method","getMockRequestTemplate","uri","concat","URL_ENDPOINT","IP_ENDPOINT","DISCOVERY_URL","myIP","addAuthHeader","headers","SPARK_USER_AGENT","regionBody","clientRegion","countryCode","_callee16","failurePayload","_callee16$","_context16","statusCode","mockRejectedValueOnce","toBeCalledWith","anything","file","CALLING_CLIENT_FILE","_callee17","_callee17$","_context17","_callee18","infoSpy","_callee18$","_context18","discovery","region","country","toBeCalledOnceWith","mobiusCluster","checkCluster","_ref19","_callee19","mockServiceHosts","mockCatalog","_callee19$","_context19","_x","_x2","each","_ref20","_callee20","clusterName","_callee20$","_context20","abrupt","mockIntServiceHosts","mockCatalogUSInt","mockEUIntServiceHosts","mockCatalogEUInt","_x3","line","reg","restoreSpy","deRegSpy","restartRegisterSpy","registerSpy","beforeEach","_callee21","_callee21$","_context21","useFakeTimers","registrationPayload","_values","lineDict","registration","register","_callee22","_callee22$","_context22","getStatus","RegistrationStatus","ACTIVE","mercury","connected","advanceTimersByTime","NETWORK_FLAP_TIMEOUT","NETWORK_CHANGE_DETECTION_UTIL","REGISTRATION_FILE","getActiveMobiusUrl","lastCalledWith","_callee23","mockRegistrationBody","successPayload","_callee23$","_context23","body","getMockDeviceInfo","_callee24","handleConnectionRestoreSpy","_callee24$","_context24","setStatus","IDLE","_callee25","_callee25$","_context25","createCall","_keys","getActiveCalls","toBe","_callee26","_callee26$","_context26","getLines","mutex","Mutex","userId","device","clientDeviceUri","mobiusUris","filterMobiusUris","getMobiusDiscoveryResponse","fn","primary","backupMobiusUris","backup","beforeAll","_callee27","calls","_callee27$","_context27","Line","end","getSDKConnector","getWebex","makeCall","address","type","CallType","URI","getConnectedCall","mockCall","mockCall2","state","value","mockActiveCalls","mockCorrelationId","mockCorrelationId2","mockReturnValue","mockDeviceId","lineId","mockDeviceId2","mockCall3","mockCorrelationId3","mockLineId","mockLineId2","mockOn","on","_callee28","_callee28$","_context28","done","CALLING_CLIENT_EVENT_KEYS","USER_SESSION_INFO","event","data","MOCK_SESSION_EVENT","mock","MOBIUS_EVENT_KEYS","CALL_SESSION_EVENT_INCLUSIVE","callSessionCallback","userSessions","MOCK_MULTIPLE_SESSIONS_EVENT"],"sources":["CallingClient.test.ts"],"sourcesContent":["import {Mutex} from 'async-mutex';\nimport * as Media from '@webex/internal-media-core';\nimport {LOGGER} from '../Logger/types';\nimport {\n  getTestUtilsWebex,\n  getMockRequestTemplate,\n  getMockDeviceInfo,\n  getMobiusDiscoveryResponse,\n} from '../common/testUtil';\nimport {CallType, RegistrationStatus, ServiceIndicator, WebexRequestPayload} from '../common/types';\n/* eslint-disable dot-notation */\nimport {CALLING_CLIENT_EVENT_KEYS, CallSessionEvent, MOBIUS_EVENT_KEYS} from '../Events/types';\nimport log from '../Logger';\nimport {createClient} from './CallingClient';\nimport {ICallingClient} from './types';\nimport * as utils from '../common/Utils';\nimport {getCallManager} from './calling/callManager';\nimport {\n  CALLING_CLIENT_FILE,\n  DISCOVERY_URL,\n  IP_ENDPOINT,\n  NETWORK_CHANGE_DETECTION_UTIL,\n  NETWORK_FLAP_TIMEOUT,\n  REGISTRATION_FILE,\n  SPARK_USER_AGENT,\n  URL_ENDPOINT,\n} from './constants';\nimport {MOCK_MULTIPLE_SESSIONS_EVENT, MOCK_SESSION_EVENT} from './callRecordFixtures';\nimport {ILine} from './line/types';\nimport {\n  ipPayload,\n  regionBody,\n  regionPayload,\n  primaryUrl,\n  discoveryPayload,\n  registrationPayload,\n  myIP,\n  mockEUServiceHosts,\n  mockIntServiceHosts,\n  mockEUIntServiceHosts,\n  mockCatalogEU,\n  mockCatalogUSInt,\n  mockCatalogUS,\n  mockCatalogEUInt,\n  mockUSServiceHosts,\n} from './callingClientFixtures';\nimport Line from './line';\nimport {filterMobiusUris} from '../common/Utils';\nimport {URL} from './registration/registerFixtures';\nimport {ICall} from './calling/types';\nimport {ServiceHost} from '../SDKConnector/types';\n\ndescribe('CallingClient Tests', () => {\n  // Common initializers\n\n  const handleErrorSpy = jest.spyOn(utils, 'handleCallingClientErrors');\n  const setLoggerSpy = jest.spyOn(Media, 'setLogger');\n  const webex = getTestUtilsWebex();\n  webex.internal.services['_hostCatalog'] = mockCatalogUS;\n  const defaultServiceIndicator = ServiceIndicator.CALLING;\n  const callManager = getCallManager(webex, defaultServiceIndicator);\n\n  const logSpy = jest.spyOn(log, 'info');\n  const warnSpy = jest.spyOn(log, 'warn');\n\n  const originalProcessNextTick = process.nextTick;\n  function flushPromises() {\n    return new Promise((resolve) => {\n      originalProcessNextTick(resolve);\n    });\n  }\n\n  describe('CallingClient pick Mobius cluster using Service Host Tests', () => {\n    afterAll(() => {\n      callManager.removeAllListeners();\n      webex.internal.services['_serviceUrls']['mobius'] =\n        'https://mobius.aintgen-a-1.int.infra.webex.com/api/v1';\n      webex.internal.services['_hostCatalog'] = mockCatalogUS;\n    });\n\n    it('should set mobiusServiceHost correctly when URL is valid', async () => {\n      webex.internal.services._hostCatalog = mockCatalogEU;\n      webex.internal.services['_serviceUrls']['mobius'] =\n        'https://mobius-eu-central-1.prod.infra.webex.com/api/v1';\n      const urlSpy = jest.spyOn(window, 'URL').mockImplementation((url) => new window.URL(url));\n      const callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n\n      expect(urlSpy).toHaveBeenCalledWith(\n        'https://mobius-eu-central-1.prod.infra.webex.com/api/v1'\n      );\n\n      expect(callingClient['mobiusClusters']).toStrictEqual(mockEUServiceHosts);\n\n      urlSpy.mockRestore();\n    });\n\n    it('should use default mobius service host when Service URL is invalid', async () => {\n      webex.internal.services._hostCatalog = mockCatalogUS;\n      webex.internal.services._serviceUrls.mobius = 'invalid-url';\n\n      const callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n      expect(setLoggerSpy).toHaveBeenCalledTimes(1);\n      expect(callingClient['mobiusClusters']).toStrictEqual(mockUSServiceHosts);\n    });\n  });\n\n  describe('ServiceData tests', () => {\n    let callingClient: ICallingClient | undefined;\n\n    afterEach(() => {\n      callManager.removeAllListeners();\n      callingClient = undefined;\n    });\n\n    /**\n     * No input sdk config to callingClient, it should default to service type\n     * calling and empty domain value.\n     */\n    it('Verify valid calling serviceData with no input sdk config', async () => {\n      expect(async () => {\n        callingClient = await createClient(webex);\n        expect(callingClient).toBeTruthy();\n      }).not.toThrow(Error);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying empty string for\n     * both indicator and domain in it.\n     *\n     * It should default to service type calling and empty domain value.\n     *\n     */\n    it('Verify invalid empty service indicator, empty domain', async () => {\n      /* eslint-disable @typescript-eslint/no-explicit-any */\n      const serviceDataObj: any = {indicator: '', domain: ''};\n\n      expect(async () => {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n        expect(callingClient).toBeTruthy();\n      }).not.toThrow(Error);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying invalid value for indicator\n     * and valid domain type string for domain field in it.\n     *\n     * It should throw error and abort execution as indicator value is invalid.\n     *\n     * INDICATOR value MUST MATCH with one of the values in ServiceIndicator enum.\n     */\n    it('Verify invalid service indicator, valid domain', async () => {\n      /* eslint-disable @typescript-eslint/no-explicit-any */\n      const serviceDataObj: any = {indicator: 'test', domain: 'test.example.com'};\n\n      try {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n      } catch (e) {\n        expect(e.message).toEqual(\n          'Invalid service indicator, Allowed values are: calling, contactcenter and guestcalling'\n        );\n      }\n      expect.assertions(1);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying valid value for indicator\n     * 'calling', but an invalid domain type string for domain field in it.\n     *\n     * It should throw error and abort execution as domain value is invalid.\n     *\n     * DOMAIN field for service type calling is allowed to be empty but if it carries a non-empty\n     * string then it must be of valid domain type.\n     */\n    it('CALLING: verify invalid service domain', async () => {\n      const serviceDataObj = {indicator: ServiceIndicator.CALLING, domain: 'test'};\n\n      try {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n      } catch (e) {\n        expect(e.message).toEqual('Invalid service domain.');\n      }\n      expect.assertions(1);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying valid value for indicator\n     * 'calling', and an empty string for domain field in it.\n     *\n     * Execution should proceed properly and createRegistration should be called with same serviceData.\n     *\n     * DOMAIN field for service type 'calling' is allowed to be empty.\n     */\n    it('CALLING: verify valid empty service domain', async () => {\n      const serviceDataObj = {indicator: ServiceIndicator.CALLING, domain: ''};\n\n      expect(async () => {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n        expect(callingClient).toBeTruthy();\n      }).not.toThrow(Error);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying valid value for indicator\n     * 'contactcenter', but an empty string for domain field in it.\n     *\n     * It should throw error and abort execution as domain value is invalid.\n     *\n     * DOMAIN field for service type 'contactcenter' must carry a non-empty valid domain type string.\n     */\n    it('ContactCenter: verify empty invalid service domain', async () => {\n      const serviceDataObj = {indicator: ServiceIndicator.CONTACT_CENTER, domain: ''};\n\n      try {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n      } catch (e) {\n        expect(e.message).toEqual('Invalid service domain.');\n      }\n      expect.assertions(1);\n    });\n\n    /**\n     * Input sdk config to callingClient with serviceData carrying valid value for indicator\n     * 'contactcenter' , and a valid domain type string for domain field in it.\n     *\n     * Execution should proceed properly and createRegistration should be called with same serviceData.\n     *\n     * DOMAIN field for service type 'contactcenter' must carry a non-empty valid domain type string.\n     */\n    it('ContactCenter: verify valid service domain', async () => {\n      const serviceDataObj = {\n        indicator: ServiceIndicator.CONTACT_CENTER,\n        domain: 'test.example.com',\n      };\n\n      expect(async () => {\n        callingClient = await createClient(webex, {serviceData: serviceDataObj});\n        expect(callingClient).toBeTruthy();\n      }).not.toThrow(Error);\n    });\n\n    it('Get current log level', async () => {\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n      expect(callingClient).toBeTruthy();\n      expect(callingClient.getLoggingLevel).toBeTruthy();\n      expect(callingClient.getLoggingLevel()).toEqual(LOGGER.INFO);\n    });\n  });\n\n  describe('Mobius Server discovery tests', () => {\n    let callingClient;\n\n    afterEach(() => {\n      jest.clearAllTimers();\n      jest.clearAllMocks();\n      callingClient.removeAllListeners();\n      callManager.removeAllListeners();\n      callingClient = undefined;\n      jest.useRealTimers();\n    });\n\n    it('verify successful mobius server url discovery', async () => {\n      webex.request\n        .mockResolvedValueOnce(ipPayload)\n        .mockResolvedValueOnce(regionPayload)\n        .mockResolvedValueOnce(discoveryPayload);\n\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n\n      expect(webex.request).toBeCalledTimes(3);\n      expect(callingClient.primaryMobiusUris).toEqual([primaryUrl]);\n      expect(handleErrorSpy).not.toBeCalled();\n\n      expect(webex.request).nthCalledWith(1, {\n        method: 'GET',\n        ...getMockRequestTemplate(),\n        uri: `${callingClient['mobiusHost']}${URL_ENDPOINT}${IP_ENDPOINT}`,\n      });\n\n      expect(webex.request).nthCalledWith(2, {\n        method: 'GET',\n        uri: `${DISCOVERY_URL}/${myIP}`,\n        addAuthHeader: false,\n        headers: {\n          [SPARK_USER_AGENT]: null,\n        },\n      });\n\n      expect(webex.request).nthCalledWith(3, {\n        method: 'GET',\n        ...getMockRequestTemplate(),\n        uri: `${callingClient['mobiusHost']}${URL_ENDPOINT}?regionCode=${regionBody.clientRegion}&countryCode=${regionBody.countryCode}`,\n      });\n    });\n\n    it('case when region discovery fails', async () => {\n      const failurePayload = {\n        statusCode: 500,\n      };\n\n      webex.request.mockRejectedValueOnce(failurePayload);\n\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n\n      expect(webex.request).nthCalledWith(1, {\n        ...getMockRequestTemplate(),\n        uri: 'https://mobius-us-east-1.prod.infra.webex.com/api/v1/calling/web/myip',\n        method: 'GET',\n      });\n\n      expect(webex.request).nthCalledWith(2, {\n        ...getMockRequestTemplate(),\n        uri: 'https://mobius-ca-central-1.prod.infra.webex.com/api/v1/calling/web/myip',\n        method: 'GET',\n      });\n\n      expect(webex.request).nthCalledWith(3, {\n        ...getMockRequestTemplate(),\n        uri: 'https://mobius-eu-central-1.prod.infra.webex.com/api/v1/calling/web/myip',\n        method: 'GET',\n      });\n\n      expect(webex.request).nthCalledWith(4, {\n        ...getMockRequestTemplate(),\n        uri: 'https://mobius-ap-southeast-2.prod.infra.webex.com/api/v1/calling/web/myip',\n        method: 'GET',\n      });\n\n      expect(handleErrorSpy).toBeCalledWith(failurePayload, expect.anything(), {\n        file: CALLING_CLIENT_FILE,\n        method: 'getMobiusServers',\n      });\n\n      expect(callingClient.primaryMobiusUris).toEqual([\n        `${callingClient['mobiusHost']}${URL_ENDPOINT}`,\n      ]);\n\n      expect(warnSpy).toBeCalledWith(\n        `Couldn't resolve the region and country code. Defaulting to the catalog entries to discover mobius servers`,\n        ''\n      );\n    });\n\n    it('when region discovery succeeds but region based mobius url discovery fails', async () => {\n      const failurePayload = {\n        statusCode: 500,\n      };\n\n      webex.request\n        .mockResolvedValueOnce(ipPayload)\n        .mockResolvedValueOnce(regionPayload)\n        .mockRejectedValueOnce(failurePayload);\n\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n\n      expect(handleErrorSpy).toBeCalledWith(failurePayload, expect.anything(), {\n        file: CALLING_CLIENT_FILE,\n        method: 'getMobiusServers',\n      });\n      expect(webex.request).toBeCalledTimes(3);\n\n      expect(callingClient.primaryMobiusUris).toEqual([\n        `${callingClient['mobiusHost']}${URL_ENDPOINT}`,\n      ]);\n\n      expect(webex.request).nthCalledWith(1, {\n        method: 'GET',\n        ...getMockRequestTemplate(),\n        uri: `${callingClient['mobiusHost']}${URL_ENDPOINT}${IP_ENDPOINT}`,\n      });\n\n      expect(webex.request).nthCalledWith(2, {\n        method: 'GET',\n        uri: `${DISCOVERY_URL}/${myIP}`,\n        addAuthHeader: false,\n        headers: {\n          [SPARK_USER_AGENT]: null,\n        },\n      });\n\n      expect(warnSpy).toBeCalledWith(\n        `Couldn't resolve the region and country code. Defaulting to the catalog entries to discover mobius servers`,\n        ''\n      );\n    });\n\n    it('Verify successful mobius server url discovery after initializing callingClient through a config', async () => {\n      const infoSpy = jest.spyOn(log, 'info');\n      webex.request.mockResolvedValueOnce(discoveryPayload);\n\n      callingClient = await createClient(webex, {\n        discovery: {\n          region: 'AP-SOUTHEAST',\n          country: 'IN',\n        },\n        logger: {\n          level: LOGGER.INFO,\n        },\n      });\n\n      expect(callingClient.primaryMobiusUris).toEqual([primaryUrl]);\n\n      expect(infoSpy).toBeCalledWith('Updating region and country from the SDK config', {\n        file: 'CallingClient',\n        method: 'getMobiusServers',\n      });\n      expect(webex.request).toBeCalledOnceWith({\n        ...getMockRequestTemplate(),\n        uri: `${callingClient['mobiusHost']}${URL_ENDPOINT}?regionCode=${regionBody.clientRegion}&countryCode=${regionBody.countryCode}`,\n        method: 'GET',\n      });\n      expect(handleErrorSpy).not.toBeCalled();\n    });\n  });\n\n  describe('Testing each cluster present withing host catalog', () => {\n    const mobiusCluster = [\n      'mobius-eu-central-1.prod.infra.webex.com',\n      'mobius-us-east-1.int.infra.webex.com',\n      'mobius-eu-central-1.int.infra.webex.com',\n    ];\n\n    const checkCluster = async (\n      mockServiceHosts: ServiceHost[],\n      mockCatalog: Record<string, ServiceHost[]>\n    ) => {\n      webex.internal.services._hostCatalog = mockCatalog;\n      const callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n\n      expect(callingClient['mobiusClusters']).toStrictEqual(mockServiceHosts);\n    };\n\n    it.each(mobiusCluster)('%s', async (clusterName) => {\n      switch (clusterName) {\n        case 'mobius-eu-central-1.prod.infra.webex.com':\n          checkCluster(mockEUServiceHosts, mockCatalogEU);\n          break;\n        case 'mobius-us-east-1.int.infra.webex.com':\n          checkCluster(mockIntServiceHosts, mockCatalogUSInt);\n          break;\n        case 'mobius-eu-central-1.int.infra.webex.com':\n          checkCluster(mockEUIntServiceHosts, mockCatalogEUInt);\n          break;\n        default:\n          break;\n      }\n    });\n  });\n\n  describe('Network activity detection tests', () => {\n    let callingClient;\n    let line;\n    let reg;\n    let restoreSpy;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    let deRegSpy;\n    let restartRegisterSpy;\n    let registerSpy;\n\n    beforeEach(async () => {\n      jest.useFakeTimers();\n\n      webex.request\n        .mockResolvedValueOnce(ipPayload)\n        .mockResolvedValueOnce(regionPayload)\n        .mockResolvedValueOnce(discoveryPayload)\n        .mockResolvedValueOnce(registrationPayload);\n\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n      line = Object.values(callingClient.lineDict)[0] as ILine;\n      reg = line.registration;\n      await line.register();\n\n      deRegSpy = jest.spyOn(line.registration, 'deregister');\n      restoreSpy = jest.spyOn(reg, 'restorePreviousRegistration');\n      restartRegisterSpy = jest.spyOn(reg, 'restartRegistration');\n      registerSpy = jest.spyOn(reg, 'attemptRegistrationWithServers');\n    });\n\n    afterEach(() => {\n      jest.clearAllTimers();\n      jest.clearAllMocks();\n      callingClient.removeAllListeners();\n      callManager.removeAllListeners();\n      callingClient = undefined;\n      jest.useRealTimers();\n    });\n\n    it('detect a network flap in mercury connection', async () => {\n      expect(line.getStatus()).toEqual(RegistrationStatus.ACTIVE);\n\n      /* Set mercury connection to be down and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = false;\n\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      /* We should be detecting the network flap */\n      expect(warnSpy).toBeCalledOnceWith(\n        'Network has flapped, waiting for mercury connection to be up',\n        {file: CALLING_CLIENT_FILE, method: NETWORK_CHANGE_DETECTION_UTIL}\n      );\n\n      /* Set mercury connection to be up and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = true;\n\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      await flushPromises();\n\n      /* We should be detecting the network recovery */\n      expect(logSpy).toBeCalledWith(\n        'Mercury connection is up again, re-registering with Webex Calling if needed',\n        {\n          file: REGISTRATION_FILE,\n          method: 'handleConnectionRestoration',\n        }\n      );\n\n      expect(restoreSpy).toBeCalledWith('handleConnectionRestoration');\n      expect(restartRegisterSpy).toBeCalledWith('handleConnectionRestoration');\n      expect(webex.request).toBeCalledTimes(6);\n      expect(registerSpy).toBeCalledWith('handleConnectionRestoration', [reg.getActiveMobiusUrl()]);\n      expect(registerSpy).lastCalledWith('handleConnectionRestoration', [primaryUrl]);\n    });\n\n    it('Simulate a network flap with no active calls and re-verify registration: Restore Failure', async () => {\n      expect(line.getStatus()).toEqual(RegistrationStatus.ACTIVE);\n\n      const failurePayload = <WebexRequestPayload>(<unknown>{\n        statusCode: 500,\n        body: '',\n      });\n\n      const mockRegistrationBody = getMockDeviceInfo();\n      const successPayload = <WebexRequestPayload>(<unknown>{\n        statusCode: 200,\n        body: mockRegistrationBody,\n      });\n\n      webex.request.mockRejectedValueOnce(failurePayload).mockResolvedValueOnce(successPayload);\n\n      /* Set mercury connection to be down and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = false;\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      /* We should be detecting the network flap */\n      expect(warnSpy).toBeCalledWith(\n        'Network has flapped, waiting for mercury connection to be up',\n        {file: CALLING_CLIENT_FILE, method: NETWORK_CHANGE_DETECTION_UTIL}\n      );\n\n      /* Set mercury connection to be up and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = true;\n\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      await flushPromises();\n\n      /* We should be detecting the network recovery */\n      expect(logSpy).toBeCalledWith(\n        'Mercury connection is up again, re-registering with Webex Calling if needed',\n        {\n          file: REGISTRATION_FILE,\n          method: 'handleConnectionRestoration',\n        }\n      );\n\n      expect(restoreSpy).toBeCalledOnceWith('handleConnectionRestoration');\n      expect(restartRegisterSpy).toBeCalledOnceWith('handleConnectionRestoration');\n      expect(webex.request).toBeCalledTimes(6);\n      expect(registerSpy).toBeCalledWith('handleConnectionRestoration', [reg.getActiveMobiusUrl()]);\n      expect(registerSpy).lastCalledWith('handleConnectionRestoration', [primaryUrl]);\n    });\n\n    it('Simulate a network flap before initial registration is done', async () => {\n      const handleConnectionRestoreSpy = jest.spyOn(reg, 'handleConnectionRestoration');\n      reg.setStatus(RegistrationStatus.IDLE);\n\n      /* Set mercury connection to be down and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = false;\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      /* We should be detecting the network flap */\n      expect(warnSpy).toBeCalledOnceWith(\n        'Network has flapped, waiting for mercury connection to be up',\n        {file: CALLING_CLIENT_FILE, method: NETWORK_CHANGE_DETECTION_UTIL}\n      );\n\n      /* Set mercury connection to be up and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = true;\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      await flushPromises();\n\n      /* We should be detecting the network recovery */\n      expect(logSpy).not.toBeCalledWith(\n        'Mercury connection is up again, re-registering with Webex Calling if needed',\n        {\n          file: REGISTRATION_FILE,\n          method: 'handleConnectionRestoration',\n        }\n      );\n\n      /*\n       * When initial registration is not done, network flap\n       * will not trigger de-registration/registration\n       */\n      expect(handleConnectionRestoreSpy).not.toBeCalledOnceWith();\n    });\n\n    it('Simulate a network flap with 1 active call', async () => {\n      expect(line.getStatus()).toEqual(RegistrationStatus.ACTIVE);\n\n      /** create a new call */\n      reg.callManager.createCall();\n      expect(Object.keys(reg.callManager.getActiveCalls()).length).toBe(1);\n\n      /* Set mercury connection to be down and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = false;\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n      await flushPromises();\n\n      /* We should be detecting the network flap */\n      expect(warnSpy).not.toBeCalledOnceWith(\n        'Network has flapped, waiting for mercury connection to be up',\n        {file: CALLING_CLIENT_FILE, method: 'handleConnectionRestoration'}\n      );\n\n      /* Set mercury connection to be up and execute a delay of 2.5 seconds */\n      webex.internal.mercury.connected = true;\n      jest.advanceTimersByTime(NETWORK_FLAP_TIMEOUT + 500);\n\n      await flushPromises();\n\n      /* We should be detecting the network recovery */\n      expect(logSpy).not.toBeCalledOnceWith(\n        'Mercury connection is up again, re-registering with Webex Calling if needed',\n        {file: REGISTRATION_FILE, method: 'handleConnectionRestoration'}\n      );\n\n      expect(registerSpy).not.toBeCalledWith(true);\n    });\n  });\n\n  describe('Line creation tests', () => {\n    let callingClient;\n    let line;\n\n    beforeEach(async () => {\n      callingClient = await createClient(webex);\n      line = Object.values(callingClient.lineDict)[0];\n    });\n\n    afterEach(() => {\n      jest.clearAllTimers();\n      jest.clearAllMocks();\n      callingClient.removeAllListeners();\n      callManager.removeAllListeners();\n      callingClient = undefined;\n      jest.useRealTimers();\n    });\n\n    it('verify line dict successfully created', () => {\n      expect(callingClient.lineDict).toBeTruthy();\n      expect(line).toBeTruthy();\n      expect(Object.keys(callingClient.lineDict).length).toEqual(1);\n    });\n\n    it('verify getLines response', () => {\n      expect(callingClient.getLines).toBeTruthy();\n      expect(callingClient.getLines()).toEqual(callingClient.lineDict);\n    });\n  });\n\n  // Calling related test cases\n  describe('Calling tests', () => {\n    const mutex = new Mutex();\n    const userId = webex.internal.device.userId;\n    const clientDeviceUri = webex.internal.device.url;\n    const mobiusUris = filterMobiusUris(getMobiusDiscoveryResponse(), URL);\n    const primaryMobiusUris = jest.fn(() => mobiusUris.primary);\n    const backupMobiusUris = jest.fn(() => mobiusUris.backup);\n\n    let callingClient;\n    let line: Line;\n\n    beforeAll(async () => {\n      callingClient = await createClient(webex);\n      line = new Line(\n        userId,\n        clientDeviceUri,\n        mutex,\n        primaryMobiusUris(),\n        backupMobiusUris(),\n        LOGGER.INFO\n      );\n      const calls = Object.values(callManager.getActiveCalls());\n      calls.forEach((call) => {\n        call.end();\n      });\n    });\n\n    afterAll(() => {\n      callingClient.removeAllListeners();\n      callManager.removeAllListeners();\n    });\n\n    it('verify calling client object', () => {\n      expect(callingClient.getSDKConnector().getWebex().internal.device.userId).toBe(\n        '8a67806f-fc4d-446b-a131-31e71ea5b0e9'\n      );\n    });\n\n    it('returns undefined when there is no connected call', () => {\n      line.register();\n      line.makeCall({address: '123456', type: CallType.URI});\n      expect(callingClient.getConnectedCall()).toEqual(undefined);\n    });\n\n    it('returns the connected call', () => {\n      line.register();\n      const mockCall = line.makeCall({address: '1234', type: CallType.URI});\n      const mockCall2 = line.makeCall({address: '5678', type: CallType.URI});\n      // Connected call\n      mockCall['connected'] = true;\n      mockCall['earlyMedia'] = false;\n      mockCall['callStateMachine'].state.value = 'S_CALL_ESTABLISHED';\n\n      // Held call\n      mockCall2['connected'] = true;\n      mockCall2['held'] = true;\n      mockCall2['earlyMedia'] = false;\n      mockCall2['callStateMachine'].state.value = 'S_CALL_HOLD';\n\n      const mockActiveCalls: Record<string, ICall> = {\n        mockCorrelationId: mockCall as ICall,\n        mockCorrelationId2: mockCall2 as ICall,\n      };\n\n      jest.spyOn(callManager, 'getActiveCalls').mockReturnValue(mockActiveCalls);\n      expect(callingClient.getConnectedCall()).toEqual(mockCall);\n    });\n    it('returns all active calls', () => {\n      callingClient.lineDict = {\n        mockDeviceId: {lineId: 'mockLineId'} as ILine,\n        mockDeviceId2: {lineId: 'mockLineId2'} as ILine,\n      };\n\n      const mockCall = line.makeCall({address: '1234', type: CallType.URI});\n      const mockCall2 = line.makeCall({address: '5678', type: CallType.URI});\n      const mockCall3 = line.makeCall({address: '9101', type: CallType.URI});\n\n      mockCall.lineId = 'mockLineId';\n      mockCall2.lineId = 'mockLineId2';\n      mockCall3.lineId = 'mockLineId2';\n\n      const mockActiveCalls: Record<string, ICall> = {\n        mockCorrelationId: mockCall as ICall,\n        mockCorrelationId2: mockCall2 as ICall,\n        mockCorrelationId3: mockCall3 as ICall,\n      };\n\n      jest.spyOn(callManager, 'getActiveCalls').mockReturnValue(mockActiveCalls);\n      expect(callingClient.getActiveCalls()).toEqual({\n        mockLineId: [mockCall],\n        mockLineId2: [mockCall2, mockCall3],\n      });\n    });\n  });\n\n  describe('Call Session Event test', () => {\n    const mockOn = webex.internal.mercury.on;\n    let callingClient: ICallingClient;\n\n    beforeEach(async () => {\n      callingClient = await createClient(webex, {logger: {level: LOGGER.INFO}});\n    });\n\n    afterEach(() => {\n      callingClient.removeAllListeners();\n      callManager.removeAllListeners();\n    });\n\n    it('verify the recent user session event ', (done) => {\n      expect.assertions(2);\n      callingClient.on(CALLING_CLIENT_EVENT_KEYS.USER_SESSION_INFO, (event: CallSessionEvent) => {\n        expect(event.data).toEqual(MOCK_SESSION_EVENT.data);\n        done();\n      });\n\n      expect(mockOn.mock.calls[0][0]).toEqual(MOBIUS_EVENT_KEYS.CALL_SESSION_EVENT_INCLUSIVE);\n      const callSessionCallback = mockOn.mock.calls[0][1];\n\n      callSessionCallback(MOCK_SESSION_EVENT);\n    });\n\n    it('drop the recent user session if there is no webex calling type', (done) => {\n      expect.assertions(2);\n      callingClient.on(CALLING_CLIENT_EVENT_KEYS.USER_SESSION_INFO, (event: CallSessionEvent) => {\n        expect(event.data.userSessions.userSessions.length).toEqual(1);\n        done();\n      });\n\n      expect(mockOn.mock.calls[0][0]).toEqual(MOBIUS_EVENT_KEYS.CALL_SESSION_EVENT_INCLUSIVE);\n      const callSessionCallback = mockOn.mock.calls[0][1];\n\n      callSessionCallback(MOCK_MULTIPLE_SESSIONS_EVENT);\n    });\n  });\n});\n"],"mappings":"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"}